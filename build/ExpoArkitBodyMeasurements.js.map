{"version":3,"file":"ExpoArkitBodyMeasurements.js","sourceRoot":"","sources":["../src/ExpoArkitBodyMeasurements.ts"],"names":[],"mappings":";;AA4BA,4CAOC;AAED,0CAOC;AAED,0CAKC;AAOD,wEAQC;AAED,wEAQC;AA5ED,yDAI2B;AAE3B,yDAAyD;AACzD,yEAAyE;AACzE,IAAI,+BAA+B,GAAQ,IAAI,CAAC;AAChD,IAAI,CAAC;IACH,+BAA+B,GAAG,IAAA,uCAAmB,EACnD,2BAA2B,CAC5B,CAAC;AACJ,CAAC;AAAC,OAAO,KAAK,EAAE,CAAC;IACf,OAAO,CAAC,IAAI,CAAC,sDAAsD,EAAE,KAAK,CAAC,CAAC;AAC9E,CAAC;AAaD,SAAgB,gBAAgB;IAC9B,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACrC,OAAO,OAAO,CAAC,MAAM,CACnB,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAC9D,CAAC;IACJ,CAAC;IACD,OAAO,+BAA+B,CAAC,gBAAgB,EAAE,CAAC;AAC5D,CAAC;AAED,SAAgB,eAAe;IAC7B,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACrC,OAAO,OAAO,CAAC,MAAM,CACnB,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAC9D,CAAC;IACJ,CAAC;IACD,OAAO,+BAA+B,CAAC,eAAe,EAAE,CAAC;AAC3D,CAAC;AAED,SAAgB,eAAe;IAC7B,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACrC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IACD,OAAO,+BAA+B,CAAC,eAAe,EAAE,CAAC;AAC3D,CAAC;AAED,2DAA2D;AAC3D,MAAM,OAAO,GAAG,+BAA+B;IAC7C,CAAC,CAAC,IAAI,gCAAY,CAAC,+BAAsC,CAAC;IAC1D,CAAC,CAAC,IAAI,CAAC;AAET,SAAgB,8BAA8B,CAC5C,QAA8C;IAE9C,IAAI,CAAC,OAAO,EAAE,CAAC;QACb,oEAAoE;QACpE,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAE,CAAC,EAAuB,CAAC;IACnD,CAAC;IACD,OAAQ,OAAe,CAAC,WAAW,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;AACzE,CAAC;AAED,SAAgB,8BAA8B,CAC5C,QAA6D;IAE7D,IAAI,CAAC,OAAO,EAAE,CAAC;QACb,oEAAoE;QACpE,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAE,CAAC,EAAuB,CAAC;IACnD,CAAC;IACD,OAAQ,OAAe,CAAC,WAAW,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;AACzE,CAAC","sourcesContent":["import {\n  EventEmitter,\n  EventSubscription,\n  requireNativeModule,\n} from \"expo-modules-core\";\n\n// Tentar carregar o módulo nativo com tratamento de erro\n// O nome do módulo no Swift é \"ExpoArkitBodyMeasurements\" (sem \"Module\")\nlet ExpoArkitBodyMeasurementsModule: any = null;\ntry {\n  ExpoArkitBodyMeasurementsModule = requireNativeModule(\n    \"ExpoArkitBodyMeasurements\"\n  );\n} catch (error) {\n  console.warn(\"ExpoArkitBodyMeasurementsModule não está disponível:\", error);\n}\n\nexport interface BodyMeasurements {\n  shoulderToShoulder: number; // cm\n  waist: number; // cm\n  shirtLength: number; // cm\n}\n\nexport interface MeasurementProgress {\n  step: \"shoulder\" | \"waist\" | \"shirtLength\";\n  progress: number; // 0-100\n}\n\nexport function startMeasurement(): Promise<void> {\n  if (!ExpoArkitBodyMeasurementsModule) {\n    return Promise.reject(\n      new Error(\"ExpoArkitBodyMeasurementsModule is not available\")\n    );\n  }\n  return ExpoArkitBodyMeasurementsModule.startMeasurement();\n}\n\nexport function stopMeasurement(): Promise<void> {\n  if (!ExpoArkitBodyMeasurementsModule) {\n    return Promise.reject(\n      new Error(\"ExpoArkitBodyMeasurementsModule is not available\")\n    );\n  }\n  return ExpoArkitBodyMeasurementsModule.stopMeasurement();\n}\n\nexport function getMeasurements(): Promise<BodyMeasurements | null> {\n  if (!ExpoArkitBodyMeasurementsModule) {\n    return Promise.resolve(null);\n  }\n  return ExpoArkitBodyMeasurementsModule.getMeasurements();\n}\n\n// Criar EventEmitter apenas se o módulo estiver disponível\nconst emitter = ExpoArkitBodyMeasurementsModule\n  ? new EventEmitter(ExpoArkitBodyMeasurementsModule as any)\n  : null;\n\nexport function addMeasurementProgressListener(\n  listener: (event: MeasurementProgress) => void\n): EventSubscription {\n  if (!emitter) {\n    // Retornar um subscription vazio se o módulo não estiver disponível\n    return { remove: () => {} } as EventSubscription;\n  }\n  return (emitter as any).addListener(\"onMeasurementProgress\", listener);\n}\n\nexport function addMeasurementCompleteListener(\n  listener: (event: { measurements: BodyMeasurements }) => void\n): EventSubscription {\n  if (!emitter) {\n    // Retornar um subscription vazio se o módulo não estiver disponível\n    return { remove: () => {} } as EventSubscription;\n  }\n  return (emitter as any).addListener(\"onMeasurementComplete\", listener);\n}\n"]}